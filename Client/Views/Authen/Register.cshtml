@model Shared.DTOs.RegisterDTO
@{
    ViewData["Title"] = "Register";
    Layout = "~/Views/Shared/_LayoutAuthen.cshtml";
}

<div class="theme-layout">
    <div class="authtication bluesh high-opacity">
        <div class="verticle-center">
            <div class="welcome-note">
                <div class="logo"><img src="~/images/logo.png" alt=""><span>Litopia</span></div>
                <h1>Welcome to Litopia</h1>
                <p>
                    Socimo is a one and only plateform for the researcheres, students, and Acdamic people. Every one
                    can join this plateform free and share his ideas and research with seniors and juniours comments
                    and openions.
                </p>
            </div>
            <div class="bg-image" style="background-image: url('@Url.Content("~/images/resources/login-bg.png")')"></div>
        </div>
    </div>
    <div class="auth-login">
        <div class="verticle-center">
            <div class="signup-form">
                <h4><i class="icofont-lock"></i> Signup</h4>

                @if (!ViewData.ModelState.IsValid)
                {
                    <div class="alert alert-danger">
                        @Html.ValidationSummary(false, "", new { @class = "text-danger" })
                    </div>
                }

                <form method="post" class="c-form" asp-action="Register">
                    <div class="row merged-10">
                        <div class="col-lg-12">
                            <h4>What type of researcher are you?</h4>
                        </div>
                        <div class="col-lg-12">
                            <div class="fileds">
                                <label class="input-icon">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"
                                         viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                                         stroke-linecap="round" stroke-linejoin="round" class="feather feather-user">
                                        <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
                                        <circle cx="12" cy="7" r="4"></circle>
                                    </svg>
                                </label>
                                <input type="text" asp-for="FullName" placeholder="Full Name" required />
                                <span asp-validation-for="FullName" class="text-danger"></span>
                            </div>
                        </div>
                        <div class="col-lg-6 col-sm-6 col-md-6">
                            <div class="fileds">
                                <label class="input-icon">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="24"
                                         height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                         stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                                         class="feather feather-at-sign">
                                        <circle cx="12" cy="12" r="4"></circle>
                                        <path d="M16 8v5a3 3 0 0 0 6 0v-1a10 10 0 1 0-3.92 7.94"></path>
                                    </svg>
                                </label>
                                <input type="email" asp-for="Email" placeholder="Email" required />
                                <span asp-validation-for="Email" class="text-danger"></span>
                            </div>
                        </div>
                        <div class="col-lg-6 col-sm-6 col-md-6">
                            <div class="fileds">
                                <label class="input-icon">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="24"
                                         height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                         stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                                         class="feather feather-at-sign">
                                        <path d="M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path>
                                        <circle cx="8.5" cy="7" r="4"></circle>
                                        <polyline points="17 11 19 13 23 9"></polyline>
                                    </svg>
                                </label>
                                <input type="text" asp-for="Username" placeholder="Username" required />
                                <span asp-validation-for="Username" class="text-danger"></span>
                            </div>
                        </div>
                        <div class="col-lg-6 col-sm-6 col-md-6">
                            <div class="fileds">
                                <label class="input-icon">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="24"
                                         height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                         stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                                         class="feather feather-lock">
                                        <rect x="3" y="11" width="18" height="11" rx="2" ry="2"></rect>
                                        <path d="M7 11V7a5 5 0 0 1 10 0v4"></path>
                                    </svg>
                                </label>
                                <input type="password" asp-for="Password" placeholder="Password" required />
                                <span asp-validation-for="Password" class="text-danger"></span>
                            </div>
                        </div>
                        <div class="col-lg-6 col-sm-6 col-md-6">
                            <div class="fileds">
                                <label class="input-icon">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="24"
                                         height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                         stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                                         class="feather feather-lock">
                                        <rect x="3" y="11" width="18" height="11" rx="2" ry="2"></rect>
                                        <path d="M7 11V7a5 5 0 0 1 10 0v4"></path>
                                    </svg>
                                </label>
                                <input type="password" asp-for="PasswordConfirm" placeholder="Confirm Password" required />
                                <span asp-validation-for="PasswordConfirm" class="text-danger"></span>
                            </div>
                        </div>

                        <!-- UpToAuthor: Reader = false, Author = true -->
                        <div class="col-lg-12">
                            <div class="role-selection">
                                <input type="radio" id="reader" name="UpToAuthor" value="false" checked asp-for="UpToAuthor" />
                                <label for="reader">Reader</label>
                                <input type="radio" id="author" name="UpToAuthor" value="true" asp-for="UpToAuthor" />
                                <label for="author">Author</label>
                            </div>
                            <!-- Hidden field để đảm bảo UpToAuthor luôn được gửi -->
                            <input type="hidden" asp-for="UpToAuthor" />
                        </div>

                        <div class="col-lg-12">
                            <div class="checkbox">
                                <input type="checkbox" id="checkbox" checked>
                                <label for="checkbox">
                                    <span>
                                        I agree the terms of Services and acknowledge the
                                        privacy policy
                                    </span>
                                </label>
                            </div>
                            <button class="main-btn" type="submit"><i class="icofont-key"></i> Signup</button>
                        </div>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>

@section Scripts {
    <partial name="_ValidationScriptsPartial" />
    <script>
        // JavaScript để cập nhật giá trị UpToAuthor dựa trên radio button
        document.querySelectorAll('input[name="UpToAuthor"]').forEach(function(radio) {
            radio.addEventListener('change', function() {
                document.getElementById('UpToAuthor').value = this.value;
            });
        });
    </script>
}